// Code to make E/p vs E  plots// Sam Grant // March 2019// samuel.grant.18@ucl.ac.uk#include <iostream>#include "fitSlicesGauss.h"#include "cmap.h"#include "TFile.h"#include "TH1D.h"using namespace std;int main() {  // Take input for gain corrected or uncorrected  bool save = true;  bool scaled = false;  string in;  string whichFile = "../uncorrected2/momentum_and_energy.root";  string output_fname = "fits_momentum_and_energy.root";  TFile *input = TFile::Open(whichFile.c_str());  TFile *output = new TFile(output_fname.c_str(), "recreate");  cout << "Reading: " << whichFile << endl;  //Station loop  for (int m = 13 ; m < 20 ; m = m + 6 ) {     string stn = "St"+to_string(m)+"_";    string tstn = "St "+to_string(m)+" | ";    // Start fiducial region loop      for (int l = 0 ; l < 1 ; l++ ) {	string ffoo[2] = {"Ep_vs_E","Ep_vs_p"};	string tfoo[2] = {"E/p vs E","E/p vs p"};	string afoo[2] = {";Cluster Energy [GeV];E/p",";Track Momentum [GeV];E/p"};	          	string h[2], cmap_fname[2], fit_fname[2], g_fname[2], title[2];	// Put strings together for iterting hist/file/title names	for (int i = 0 ; i < 2 ; i++ ) {	h[i] = stn+ffoo[i]+"_"+to_string(l);//+"_"+to_string(j);	cmap_fname[i] = stn+"cmap_"+ffoo[i]+"_"+to_string(l);//+"_"+to_string(j);	fit_fname[i] = stn+"fit_"+ffoo[i]+"_"+to_string(l);//+"_"+to_string(j);	g_fname[i] = stn+"gauss_"+ffoo[i]+"_"+to_string(l);//+"_"+to_string(j)+"_";	title[i] = tstn+tfoo[i]+afoo[i];      }	TH2D *Ep_vs_E = (TH2D*)input->Get(h[0].c_str());	Ep_vs_E->GetXaxis()->SetLimits(0,4);	TH2D *Ep_vs_p = (TH2D*)input->Get(h[1].c_str());	Ep_vs_p->GetXaxis()->SetLimits(0,4);	      	cmap(Ep_vs_E, title[0], cmap_fname[0], output, save);       	cmap(Ep_vs_p, title[1], cmap_fname[1], output, save); 	fitSlicesGauss(Ep_vs_E, title[0], fit_fname[0], g_fname[0], output, save);	fitSlicesGauss(Ep_vs_p, title[1], fit_fname[1], g_fname[1], output, save);	//    	cmap(xy_calo, title[1], cmap_fname[1], output, save);	//	      }  }  output->Write();  output->Close();  cout << "\nCreated: " << output_fname << endl;  cout << "\n-----------------End----------------" << endl;  return 0;}