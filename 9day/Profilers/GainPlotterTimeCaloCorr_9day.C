// Code to make E/p vs E, E/p vs p, and E/p vs t plots// Using either gain corrected, or uncorrected// It also performs gauss fits in Y to slices in X// Sam Grant // March 2019// samuel.grant.18@ucl.ac.uk#include <iostream>#include "FitGaussSlices.h"#include "CMAP.h"#include "TFile.h"#include "TCanvas.h"#include "TH1D.h"#include "TH2D.h"#include "TStyle.h"#include "TAxis.h"#include "TProfile.h"#include "TF1.h"#include "TDirectory.h"#include "TObject.h"#include "TGraph.h"#include "TLegend.h"#include "TPaveStats.h"using namespace std;int main() {  int cycles = 50;  bool save = false;  string inputFname = "../ROOT/RawTimeCalo_9day.root";  string outputFname = "../ROOT/PlotsTimeCalo_9day.root";    TFile *input = TFile::Open(inputFname.c_str());  TFile *output = new TFile(outputFname.c_str(), "RECREATE");  cout << "Reading: " << inputFname << endl;  vector<string> ffoo_, afoo_;  ffoo_.push_back("Ep_vs_t");  afoo_.push_back(";In Fill Time [#mus];E/p");  ffoo_.push_back("E_vs_t");  afoo_.push_back(";In Fill Time [#mus];Cluster energy [MeV]");  ffoo_.push_back("p_vs_t");  afoo_.push_back(";In Fill Time [#mus];Track momentum [MeV]");  //Station loop  for (int type(0); type < ffoo_.size(); type++) {    for (int calo = 13 ; calo < 20 ; calo = calo + 6 ) {       string stn = "St"+to_string(calo)+"_";      string ffoo = ffoo_.at(type); // "Ep_vs_t";      string afoo = afoo_.at(type); // ";In Fill Time [#mus];E/p";      //     string tfoo = "E/p vs t";	  	  // Put strings together for iterting hist/file/title names     string tstn = "Stn "+to_string(calo-1);     string h = stn+ffoo;     cout<<h<<endl;     string cmap_fname = stn+"cmap_"+ffoo;     string fit_fname = stn+ffoo;     string g_fname = stn+"gauss_"+ffoo;     string title = tstn+afoo;  	  //cout<<h<<endl;     TH2D *Ep_vs_t = (TH2D*)input->Get(h.c_str());     // if (Ep_vs_t == 0) continue;     Ep_vs_t->GetXaxis()->SetLimits(0,4.2*cycles);     CMAP(Ep_vs_t, title, cmap_fname, output, save);     FitGaussSlices(Ep_vs_t, title, fit_fname, g_fname, output, calo, save);  }}output->Write();output->Close();input->Close();cout << "Created: " << outputFname << endl;return 0;}