// Code to make E/p vs E  plots// Sam Grant // March 2019// samuel.grant.18@ucl.ac.uk#include <iostream>#include "fitSlicesGauss.h"#include "cmap.h"#include "TFile.h"#include "TH1D.h"using namespace std;int main() {  // Take input for gain corrected or uncorrected  bool save = false;  string whichFile = "../uncorrected/xtal_energy.root";  string output_fname = "fits_xtal_energy.root";  TFile *input = TFile::Open(whichFile.c_str());  TFile *output = new TFile(output_fname.c_str(), "recreate");  cout << "Reading: " << whichFile << endl;  //Station loop  for (int m = 13 ; m < 20 ; m = m + 6 ) {     string stn = "St"+to_string(m)+"_";    string tstn = "St "+to_string(m)+" | ";    // Start fiducial region loop      for (int l = 0 ; l < 2 ; l++ ) {	string ffoo[2] = {"E_vs_xtal","xy_calo"};	string tfoo[2] = {"E/p vs Crystal Number","XY Calo"};	string afoo[2] = {";Crystal Number;Energy in Calo [GeV]",";Calo Decay Position X [mm];Calo Decay Position Y [mm]"};	string fid;	// For titles	if (l == 0) {	  fid = "";	}	else if (l == 1 ) { 	  fid = ", Fiducial";	}           	string h[2], cmap_fname[2], fit_fname[2], g_fname[2], title[2];	// Put strings together for iterting hist/file/title names	for (int i = 0 ; i < 2 ; i++ ) {	h[i] = stn+ffoo[i]+"_"+to_string(l);//+"_"+to_string(j);	cmap_fname[i] = stn+"cmap_"+ffoo[i]+"_"+to_string(l);//+"_"+to_string(j);	fit_fname[i] = stn+"fit_"+ffoo[i]+"_"+to_string(l);//+"_"+to_string(j);	g_fname[i] = stn+"gauss_"+ffoo[i]+"_"+to_string(l);//+"_"+to_string(j)+"_";	title[i] = tstn+tfoo[i]+fid+afoo[i];      }	TH2D *E_vs_xtal = (TH2D*)input->Get(h[0].c_str());	E_vs_xtal->GetYaxis()->SetLimits(0,4);	TH2D *xy_calo = (TH2D*)input->Get(h[1].c_str());      	cmap(E_vs_xtal, title[0], cmap_fname[0], output, save); 	fitSlicesGauss(E_vs_xtal, title[0], fit_fname[0], g_fname[0], output, save);       	cmap(xy_calo, title[1], cmap_fname[1], output, save);     }  }  output->Write();  output->Close();  cout << "\nCreated: " << output_fname << endl;  cout << "\n-----------------End----------------" << endl;  return 0;}